{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6be8d792e021008cd382","webpack:///./src/index.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;mBCQwB,W;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAT,UAAS,WAAT,GAA8B;AAAA,qCAAN,IAAM;AAAN,SAAM;AAAA;;AAC3C,OAAM,qBAAqB,IAA3B;;;AAGA,OAAM,aAAa;;AAAA,IAEhB,MAFgB,CAET,UAAC,IAAD,EAAO,KAAP,EAAiB;AACvB,YAAO,IAAP,CAAY,KAAZ,EAAmB,OAAnB,CAA2B;AAAA,cAAO,KAAK,IAAL,CAAU,GAAV,CAAP;AAAA,MAA3B;AACA,YAAO,IAAP;AACD,IALgB,EAKd,EALc;;AAAA,IAOhB,IAPgB,GAQhB,MARgB,CAQT,UAAC,IAAD,EAAO,GAAP,EAAY,KAAZ,EAAmB,KAAnB,EAA6B;AACnC,SAAI,QAAQ,CAAR,IAAa,QAAQ,MAAM,QAAQ,CAAd,CAAzB,EAA2C;;;AAGzC,WAAI,KAAK,OAAL,CAAa,GAAb,MAAsB,CAAC,CAA3B,EAA8B,KAAK,IAAL,CAAU,GAAV;AAC/B;AACD,YAAO,IAAP;AACD,IAfgB,EAed,EAfc,CAAnB;;;AAkBA,OAAM,sBAAsB,WAAW,MAAX,CAAkB,UAAC,QAAD,EAAW,SAAX,EAAyB;AACrE,SAAM,UAAU,QAAhB;;AAEA,wBAAmB,OAAnB,CAA2B,6BAAqB;AAC9C,WAAI,aAAa,iBAAjB,EAAoC;AAClC,iBAAQ,SAAR,IAAqB,QAAQ,SAAR,KAAsB,EAA3C;AACA,iBAAQ,SAAR,EAAmB,IAAnB,CAAwB,iBAAxB;AACD;AACF,MALD;AAMA,YAAO,OAAP;AACD,IAV2B,EAUzB,EAVyB,CAA5B;;;AAaA,OAAM,mBAAmB,WAAW,MAAX,CAAkB,UAAC,QAAD,EAAW,YAAX,EAA4B;AACrE,SAAM,UAAU,QAAhB;;AAEA,aAAQ,YAAR,IAAwB,SAAS,mBAAT,CAA6B,KAA7B,EAAoC,MAApC,EAA4C;AAClE,WAAI,WAAW,KAAf;;AAEA,2BAAoB,YAApB,EAAkC,OAAlC,CAA0C,8BAAsB;AAC9D,oBAAW,mBAAmB,YAAnB,EAAiC,QAAjC,EAA2C,MAA3C,CAAX;AACD,QAFD;AAGA,cAAO,QAAP;AACD,MAPD;;AASA,YAAO,OAAP;AACD,IAbwB,EAatB,EAbsB,CAAzB;;;AAgBA,sBAAmB,IAAnB,CAAwB,gBAAxB;;;AAGA,UAAO,mBAAmB,MAAnB,CAA0B,UAAC,IAAD,EAAO,KAAP;AAAA,YAAiB,SAAc,IAAd,EAAoB,KAApB,CAAjB;AAAA,IAA1B,EAAuE,EAAvE,CAAP;AACD","file":"fineCombine.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fineCombine\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fineCombine\"] = factory();\n\telse\n\t\troot[\"fineCombine\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6be8d792e021008cd382\n **/","/**\n *\n * ███████╗██╗███╗   ██╗███████╗     ██████╗ ██████╗ ███╗   ███╗██████╗ ██╗███╗   ██╗███████╗\n * ██╔════╝██║████╗  ██║██╔════╝    ██╔════╝██╔═══██╗████╗ ████║██╔══██╗██║████╗  ██║██╔════╝\n * █████╗  ██║██╔██╗ ██║█████╗      ██║     ██║   ██║██╔████╔██║██████╔╝██║██╔██╗ ██║█████╗\n * ██╔══╝  ██║██║╚██╗██║██╔══╝      ██║     ██║   ██║██║╚██╔╝██║██╔══██╗██║██║╚██╗██║██╔══╝\n * ██║     ██║██║ ╚████║███████╗    ╚██████╗╚██████╔╝██║ ╚═╝ ██║██████╔╝██║██║ ╚████║███████╗\n * ╚═╝     ╚═╝╚═╝  ╚═══╝╚══════╝     ╚═════╝ ╚═════╝ ╚═╝     ╚═╝╚═════╝ ╚═╝╚═╝  ╚═══╝╚══════╝\n *\n * ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n *\n * This function returns a single reducer collection, built from the reducer collections passed\n * in as arguments, and HANDLES DUPLICATE KEYS by creating new combined reducers for those keys.\n *\n * Reducers are typically organized into collections, where each key in the collection matches a\n * branch of the state tree. Sometimes, several such collections may be passed to redux' standard\n * combineReducers() function to build the single reducer function used in constructing the store\n * with createStore().\n *\n * e.g.\n * store = createStore(\n *    combineReducers({\n *        ...reducerCollection1,\n *        ...reducerCollection2,\n *        routing: routerReducer\n *        }), etc\n *\n * If there is a duplicate key in reducerCollection1 and reducerCollection2, then\n * reducerCollection2 will override the function from reducerCollection1.  fineCombine does not\n * replace combineReducers - it is used to preprocess reducer collections before they are\n * passed to combineReducers.\n *\n * There is no change to the individual reducer functions passed in EXCEPT in the case of\n * duplicate keys, a new function is returned under that key which chains together the\n * duplicate reducers.  Such functions are identifiable in the returned reducer collection,\n * because they have the function name fineCombinedReducer. All other functions will have their\n * original name (if they had one).\n *\n * The original use-case for this is combining some autoRedux and some custom reducers. For\n * example, in a \"teams\" collection, some actions may be very generic (OPEN_CREATE_TEAM_DIALOG)\n * hence created with autoRedux, while others such as the async fetching of reactive team lists\n * may require custom reducers. We still want all the state related to \"team\" to be in a single\n * branch of the state tree, so we need a fineCombine function that doesn't simply overwrite\n * conflicting branches when the reducers are combined.\n */\n\nexport default function fineCombine(...args) {\n  const reducerCollections = args;\n\n  // get all duplicate keys\n  const duplicates = reducerCollections\n    // get all the keys of all the reducer collections\n    .reduce((memo, value) => {\n      Object.keys(value).forEach(key => memo.push(key));\n      return memo;\n    }, [])\n    // now find the duplicates among them by sorting and looking for matching pairs.\n    .sort()\n    .reduce((memo, key, index, array) => {\n      if (index > 0 && key === array[index - 1]) {\n\n        // if memo does not already contain key, add it\n        if (memo.indexOf(key) === -1) memo.push(key);\n      }\n      return memo;\n    }, []);\n\n  // get an array of the relevant reducerCollections for each duplicate\n  const relevantCollections = duplicates.reduce((previous, duplicate) => {\n    const current = previous;\n\n    reducerCollections.forEach(reducerCollection => {\n      if (duplicate in reducerCollection) {\n        current[duplicate] = current[duplicate] || [];\n        current[duplicate].push(reducerCollection);\n      }\n    });\n    return current;\n  }, {});\n\n  // build the combined reducer functions for each duplicate\n  const combinedReducers = duplicates.reduce((previous, duplicateKey) => {\n    const current = previous;\n\n    current[duplicateKey] = function fineCombinedReducer(state, action) {\n      let newState = state;\n\n      relevantCollections[duplicateKey].forEach(relevantCollection => {\n        newState = relevantCollection[duplicateKey](newState, action);\n      });\n      return newState;\n    };\n\n    return current;\n  }, {});\n\n  // push it onto reducerCollections (so it will override relevant keys in the next step)\n  reducerCollections.push(combinedReducers);\n\n  // build the combined return object\n  return reducerCollections.reduce((memo, value) => Object.assign(memo, value), {});\n}\n// ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n// =================================================================================================\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/"],"sourceRoot":""}